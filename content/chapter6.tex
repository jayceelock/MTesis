\chapter{Conclusion}
\label{chap6}

\section{Introduction}

This research project set out to accomplish two things: find a reliable, accurate and cheap method to measure the pose of an object in the outdoors, and then to use that system to determine the pose estimation accuracy of an unmanned aerial vehicle (UAV) quadcopter in flight in the outdoors. The pose refers to a six-dimensional vector describing an object's position and orientation. 

The previous chapters in this document have covered each aspect of the computer vision system's design, testing and implementation process, as well as live testing with a quadcopter. This chapter will provide a brief summary of the project, as well as the key findings and results. The significance of these findings to the existing body of knowledge is also discussed. Finally, the shortcomings of the findings, as well as potential improvements and future work are discussed. 

\section{Thesis Summary}

Chapter~\ref{chap1} started the document off with an introduction to the problem and motivated the reason why a new outdoor measurement system needed to be developed and what the potential benefits are to knowing how accurately a UAV can estimate its pose.  

A review of the current body of knowledge pertaining to the relevant aspects of this research project was given in Chapter~\ref{chap2}. It was found that a significant amount of research has already been done in stabilising a UAV and having it hold its position in the air with different control strategies. Furthermore, it was established that there are well-understood and widely researched computer vision techniques and libraries available that can extract the pose data of an object from an image. Finally, this chapter includes a brief review of the different machine learning techniques available that can be trained to make accurate predictions for any given input pose vector. The different techniques and their strengths and limitations are discussed.  

In Chapter~\ref{chap3}, all of the design aspects of the computer vision system (CVS) was discussed, which include the hardware and software design, as well as the measurement accuracy test and verification process. It was found that the complex nature of the CVS's measurement error necessitates a measurements error estimation model to predict what the measurement error would be for any given input pose measurement vector from the CVS.\@ 

Chapter~\ref{chap4} set out to discuss the use of a radial basis function neural network (RBFNN) to estimate the measurement error for any pose measurement vector produced by the CVS.\@ It discussed the training process and how the trained network's accuracy was was verified. A RBFNN was trained which produces a satisfactory level of error with its estimates and can be used with new pose measurement data.

Finally, Chapter~\ref{chap5} is dedicated to discussing how the CVS and the RBFNN were used in a flight test with a real quadcopter. A number of flight tests were performed with the Solar and Thermal Energy Research Group's (STERG) Suncopter quadcopter platform. During these tests, both the CVS and the Suncopter recorded the quadcopter's pose information. It was found that the Suncopter's pose estimate fell within the error boundaries of the CVS, meaning that it gives more accurate pose estimates than the CVS does. However, the error boundary of the CVS can still be used as a worst-case pose estimate error measure for the quadcopter's pose estimates. 

\section{Findings and Contributions to Body of Knowledge}

The objectives of this research thesis are discussed in Chapter~\ref{chap1}. They are stated here again for convenience and are as follows:

\begin{itemize}
  \item Design and implement an alternative outdoor pose measurement system.
  \item Determine the measurement accuracy of that pose measurement system.
  \item Use the computer vision system to determine the pose estimation accuracy of a quadcopter in flight. 
\end{itemize}

For the first objective, a computer vision-based system was made which uses the OpenCV library and a single camera to record video data of a calibration object and extract six-dimensional pose data of that object. Such a system was required, since other outdoor measurement systems were unavailable at the time this project was executed and indoor measurement tools are not applicable to measuring a quadcopter flying in the outdoors. This system is fairly simple, cheap, easy to use and set up. Preliminary tests have shown that its estimates were within the ballpark estimates, however its pose measurement accuracy had to be accurately determined before it could be used to perform any pose measurements. 

The measurement system's pose accuracy was determined by comparing it with the ground-truth pose measurements of a state-of-the-art Vicon motion tracking system. The measurement error is fairly complex and high-dimensional and the measurement test has shown that it is highly interdimensionally dependant (as shown by the covariance matrix in Equation~\ref{eq:covariance-matrix} and the contour plots in Figure~\ref{fig:err-contour}). This means that the CVS's pose measurement accuracy is dependant on the calibration object's pose relative to the CVS's camera. Therefore, another method of predicting the CVS's pose measurement error for any given pose measurement vector was required.

It was decided that an RBFNN would be used to perform the measurement error estimation. An RBFNN was selected based on its proven ability to work well with noisy input data and detect any non-linear relationships between the input dimensions. The RBFNN was trained with a uniformly distributed data set and validated with randomly selected data points. Both data sets were selected from the same Vicon test. It produces an acceptably small mean square error for the validation set. It was found that the performance of the RBFNN is better in the position dimensions than in the orientation dimensions, with a possible reason being the excessive noise within the orientation dimension data. 

Finally, the CVS and RBFNN were used together to determine the pose estimation accuracy of a quadcopter in flight. This was done by performing flight tests with a real quadcopter in the outdoors. The results of the flight tests shows that the quadcopter's own pose estimate is more accurate than that of the CVS, which implies that the CVS's error measure can be used as a worst-case error measure for the quadcopter's pose estimate, since the CVS's error has very accurately been determined before. This result can be incorporated into a quadcopter to improve its control strategies, for example. 

\section{Shortcomings and Future Work}

The main research objectives and goals that have been set for this thesis have been achieved. However, there are some issues that have been encountered during the porject. There is also some potential to take this research further to improve and implement the results. These shortcomings and a few potential avenues of further research are discussed in this section. 

\subsection{Lacklustre Pose Measurement System Accuracy}

As part of this research project, the CVS's measurement accuracy was determined. It was found that it provides fairly accurate pose estimates in its position dimensions, but has large deviations from the true pose within its orientation dimensions. This is demonstrated in Figures~\ref{fig:norm-roll} to~\ref{fig:norm-yaw}, where a large error standard deviation is shown, as well as in Figures~\ref{fig:rbfnn-valid-roll} to~\ref{fig:rbfnn-valid-yaw}, where the RBFNN also outputs a large orientation error band. This is a serious shortcoming of the CVS, since this high level of error effectively renders the orientation data useless. 

An inspection of the CVS's raw orientation data reveals that it remains fairly constant, but there is significant noise present in the data, sometimes deviating as much as $\ang{20}$ from the true orientation. This noise would explain the large standard deviations observed in the data. Similarly, the RBFNN will equally be affected, since the training error data will also contain the noise and the network will attempt to fit the model to the noisy data during training and replicate it when presented with a new input data set. 

The RANSAC algorithm has already been employed to remove outlier data points. However, if another way can be found to smooth or filter out the noisy components, it would greatly improve the accuracy of the CVS in general, especially in the orientation dimensions. 

\subsection{Gaps in the Pose Measurement Data}

It was observed with the flight test data that the CVS's pose measurements contain gaps where no data was recorded. Inspection of the video material showed that for significant sections of the video, OpenCV's corner detection algorithm could not detect all of the expected corners on the calibration board. 

There are a few reasons this may have occurred. One is that the board was simply too far away and the detector could not get a clear enough view of the corners. Another is that the uneven lighting conditions in the field test led to the contrast not being great enough to highlight the difference between the white and black tiles on the board. This was somewhat remedied by using an adaptive threshold filter in the corner detector. However, there is still some gaps within the data set. 

A suggestion to permanently fix this issue would be to ensure that the calibration board be evenly lit throughout the test. One possibility would be to perform the test iat night time and use spot lights to control the lighting level on the calibration board. 

\subsection{Improved Hardware}

One avenue of improvement unrelated to the CVS which may increase the pose measurement accuracy of a quadcopter significantly, is to improve the sensor hardware it is equipped with. More specifically, if a more accurate global positioning system sensor (GPS) can be used, it should show a significant improvement in a quadcopter's localisation results. 

Presently, the Suncopter comes equipped with a standard GPS uBlox module, which has an expected accuracy of within $\SI{3}{\m}$, which is the standard level of accuracy for a normal GPS module. However, recent improvements in the field of differential GPS technology, especially real-time kinematic (RTK) GPS's, have led to smaller, more accurate GPS units becoming available to use with a quadcopter. There already has been some development done in implementing the Piksi RTK GPS in the Pixhawk controller. The Piksi GPS has a reported accuracy level of within a few centimetres, which is a significant improvement over the traditional GPS modules. 

Other sensor improvements can be made, such as a more accurate magnetometer, inertial measurement unit (IMU), and so on. However, it is not expected that these sensors will have as significant an effect on the quadcopter's localisation ability as adding a differential GPS unit would. 

\subsection{Implement Results}

The pose estimation accuracy of a quadcopter could not definitively be determined, since it was found that the quadcopter that was tested gave more accurate pose measurements than the CVS did. However, the CVS's pose measurement accuracy can still be used as a worst-case pose estimation measure for a quadcopter, since the quadcopter's pose estimates fall within the established error band of the CVS.\@ 

With the pose estimation error of a quadcopter now determined, it can be implemented into a quadcopter's control system. This will help to produce a more accurate and stable quadcopter. Furthermore, the CVS can be used to test new quadcopter systems and their control configurations. 

\section{Conclusion}

Despite the high hopes that were placed on being able to use a computer vision-based pose measurement system to accurately determine the pose estimation accuracy of a quadcopter in flight, it has been shown that it is not yet accurate enough. However, even in its shortcoming, it has provided an error measure for a quadcopter's pose estimates which was not available previously. This error term can be implemented into a quadcopter, creating a `bubble of uncertainty' around the quadcopter. This would be great advancement into making quadcopters safer to use and make it more attractive to government and industry alike. 

It is hoped that these findings will help in improving quadcopters and help them live up to their massive potential. 
