\chapter{Conclusion}
\label{chap6}

\section{Introduction}

This research project set out to accomplish two things: find a reliable, accurate and cheap method to measure the pose of an object in the outdoors, and then to use that system to determine the pose estimation accuracy of an unmanned aerial vehicle (UAV) quadcopter in flight in the outdoors. The pose refers to a six-dimensional vector describing an object's position and orientation. 

Previous chapters in this paper have covered each aspect of the computer vision system's design, testing and implementation process, as well as live testing with a quadcopter. This chapter will provide a brief summary of the project, as well as the key findings and results. The significance of these findings to the existing body of knowledge is also discussed. Finally, the shortcomings of the findings, as well as their potential solutions and future work is discussed. 

\section{Thesis Summary}

Chapter~\ref{chap1} starts the document off with an introduction to the problem and motivates the reason why a new outdoor measurement system needs to be developed and what the potential benefits are to knowing how accurately a UAV can estimate its pose, specifically with regard to the concentrated solar power (CSP) industry.  

A review of the current body of knowledge pertaining to the relevant aspects of this research project is given in Chapter~\ref{chap2}. It was found that a significant amount of research has already been done in stabilising a UAV and having it hold its position in the air with different control strategies. Furthermore, it was established that there are computer vision techniques and libraries available that can extract the pose data of an object from an image which are fairly well understood and widely researched. Finally, this chapter includes a brief review of the different machine learning techniques available that can be trained to make accurate predictions for any given input pose vector. The different techniques and their strengths and shortcomings are discussed.  

In Chapter~\ref{chap3}, all of the design aspects of the computer vision system (CVS) are discussed, which include the hardware and software design, as well as the measurement accuracy test and verification process. It was found that the complex nature of the CVS's measurement error necessitates a prediction model to predict what the measurement error would be for any given input pose measurement vector from the CVS.\@ 

Chapter~\ref{chap4} set out to discuss the use of a radial basis function neural network (RBFNN) to estimate the measurement error for any pose measurement vector produced by the CVS.\@ It discusses the training process used and how the trained network's estimation accuracy was was verified. A RBFNN was trained which produces an satisfactory level of error with its estimates and can be used with new pose measurement data.

Finally, Chapter~\ref{chap5} is dedicated to discussing how the CVS and the RBFNN was used in a flight test with a real quadcopter. A number of flight tests were performed with the Solar and Thermal Energy Research Group's (STERG) SunKopter quadcopter platform. During these tests, both the CVS and the SunKopter recorded the quadcopter's pose information. It was found that the SunKopter's pose estimate fell within the error boundaries of the CVS, meaning that it gives more accurate pose estimates than the CVS does. However, the error boundary of the CVS can still be used as a worst-case pose estimate error measure for the quadcopter's pose estimates. 

\section{Findings and Contributions to Body of Knowledge}

The objectives of this research thesis are discussed in Chapter~\ref{chap1}. They are stated here again for convenience and are as follows:

\begin{itemize}
  \item Design and implement an alternative outdoor pose measurement system.
  \item Determine the measurement accuracy of that pose measurement system.
  \item Use the computer vision system to determine the pose estimation accuracy of a quadcopter in flight. 
\end{itemize}

For the first objective, a computer vision-based system was made which uses the OpenCV library and a single camera to record video data of a calibration object and extract six-dimensional pose data of that object. Such a system is required, since the existing methods are not applicable to the outdoors or were impractical to implement at the time this project was executed. This system is fairly simple, cheap, easy to use and set up. Preliminary tests have shown that its estimates were within the ballpark estimates, however its pose measurement accuracy had to be accurately determined before it could be used to perform any pose measurements. 

The measurement system's pose accuracy was determined by comparing it with the ground-truth pose measurements of a state-of-the-art Vicon motion tracking system. The measurement error is fairly complex and high-dimensional and the measurement test has shown that it is highly interdimensionally dependant, as shown by the covariance matrix in Equation~\ref{eq:covariance-matrix} and the contour plots in Figure~\ref{fig:err-contour}. This means that the CVS's pose measurement accuracy is dependant on the calibration object's pose relative to the CVS's camera. Therefore, another method of predicting the CVS's pose measurement error for any given pose measurement vector was required.

It was decided that an RBFNN would be used to perform the error prediction. An RBFNN was selected based on its proven ability to work well with noisy input data and detect any non-linear relationships between the input dimensions. The RBFNN was trained with a uniformly distributed data set and validated with randomly selected data points from the same data set the training points were selected from. It produces and acceptably small mean square error for the validation set. It was found that the performance of the RBFNN is better in the position dimensions than in the orientation dimensions with a possible reason being the excessive noise within the orientation dimension data. 

Finally, the CVS and RBFNN were used together to determine the pose estimation accuracy of a quadcopter in flight. This was done by performing flight tests with a real quadcopter in the outdoors. The results of the flight tests showed that the quadcopter's own pose estimate is more accurate than that of the CVS, which implies that the CVS's accuracy measure can be used as a worst-case accuracy measure for the quadcopter's estimate, since the CVS's accuracy has very accurately been determined before. This result is enough to be incorporated into a heliostat calibration model that is being developed. 

\section{Shortcomings and Future Work}

\subsection{Introduction}

The main research objectives and goals that have been set for this thesis have been achieved. However, there are some issues that have been encountered during the whole process. There is also some potential to take this research further to improve and implement the results. These shortcomings and a few potential avenues of further research are discussed in this section. 

\subsection{Lacklustre Pose Measurement System Accuracy}

As part of this research, the CVS's measurement accuracy was determined. It was found that it provides fairly accurate pose estimates in its position dimensions, but has large deviations from the true pose within its orientation dimensions. This is demonstrated in Figures~\ref{fig:norm-roll} to~\ref{fig:norm-yaw}, where a large error standard deviation is shown, as well as in Figures~\ref{fig:rbfnn-valid-roll} to~\ref{fig:rbfnn-valid-yaw}, where the RBFNN also outputs a large orientation error band. This is a serious shortcoming of the CVS, since this high level of error effectively renders 50\% of the data it gathers useless. 

An inspection of the raw orientation data given by the CVS reveals that it remains fairly constant, but there is significant noise present in the data, sometimes deviating as much as $\ang{20}$ from the true orientation. This noise would explain the large standard deviations observed in the data. Similarly, the RBFNN will equally be affected, since the training error data will also contain the noise and the network will attempt to recreate it when a new input data set is presented to it. 

The RANSAC algorithm has already been employed to remove outlier data points. However, if another way can be found to smooth or filter out the noisy components, it would greatly improve the accuracy of the CVS in general, especially in the orientation dimensions. 

\subsection{Gaps in the Pose Measurement Data}

It was observed with the flight test data that the CVS's pose measurements contain gaps where no data was recorded. Inspection of the video material showed that for significant sections of the video, the corner detection algorithm could not detect all of the expected corners on the calibration board. 

There are a few reasons this may have occurred. One is that the board was simply too far away and the detector could not get a clear enough view of the corners. Another is that the uneven lighting conditions in the field test led to the contrast not being great enough to highlight the difference between the white and black tiles on the board. This was somewhat remedied by using an adaptive threshold filter in the corner detector. However, there is still some gaps within the data set. 

A suggestion to permanently fix this issue would be to ensure that the calibration board be evenly lit throughout the test. One possibility would be to perform the test in night time and use spot lights to control the lighting level on the calibration board. 

\subsection{Improved Hardware}

One avenue of improvement unrelated to the CVS, which may increase the pose measurement accuracy of a quadcopter significantly, is to improve the sensor hardware is equipped with. More specifically, if a more accurate global positioning system sensor (GPS) can be used, it should show a significant improvement in a quadcopter's localisation results. 

At the moment, the SunKopter comes equipped with a standard GPS uBlox module, which has an expected accuracy of within $\SI{3}{\m}$, which is the standard level of accuracy for a normal GPS module. However, recent improvements in the field of differential GPS technology, especially real-time kinematic (RTK) GPS's, have led to smaller, more accurate GPS units becoming available to use with a quadcopter. There already has been some development done in implementing the Piksi RTK GPS in the Pixhawk controller. The Piksi GPS has a reported accuracy level of within a few centimetres, which is a significant improvement over the traditional GPS modules. 

Other sensor improvements can be made, such as a more accurate magnetometer, inertial measurement unit (IMU), and so on. However, it is not expected that these sensors will have as significant an effect on the quadcopter's localisation ability as adding a differential GPS unit would. 

\subsection{Implement Results}

The pose estimation accuracy of a quadcopter could not definitively be determined, since it was found that the quadcopter that was tested gave more accurate pose measurements than the CVS did. However, the CVS's pose measurement accuracy can still be used as a worst-case pose estimation measure for a quadcopter, since the quadcopter's pose estimates fall within the established error band of the CVS.\@ 

With the pose estimation accuracy value known, it can be integrated into a calibration model that will be used to calibrate a heliostat. With these results and some minor modifications to the SunKopter, a functional calibration demonstration with a quadcopter should be possible. This would be a significant result and could lead to cost reductions in heliostats and CSP plants as a whole.  


\section{Conclusion}

Despite the high hopes that was placed on being able to use a computer vision-based pose measurement system to accurately determine the pose estimation accuracy of a quadcopter in flight, it has been shown that it is not yet accurate enough. However, even in its shortcoming, it has provided an accuracy measure which can be used to improve the current heliostat calibration methods to a point where cheaper components can be used. It is hoped that this potentially drastic cost reduction will finally be the catalyst that the solar power industry needs to start competing with coal and nuclear powered plants on a global scale, particularly in South Africa. 
